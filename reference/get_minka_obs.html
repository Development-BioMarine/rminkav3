<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Download Minka data — get_minka_obs • rminkav3</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Download Minka data — get_minka_obs"><meta name="description" content="Primary function to retrieve observations from Minka, allows users to search
for data, or just filter results by a subset of what is offered by the API."><meta property="og:description" content="Primary function to retrieve observations from Minka, allows users to search
for data, or just filter results by a subset of what is offered by the API."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rminkav3</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/rminkav3.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Development-BioMarine/rminkav3/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Download Minka data</h1>
      <small class="dont-index">Source: <a href="https://github.com/Development-BioMarine/rminkav3/blob/master/R/get_minka_obs.R" class="external-link"><code>R/get_minka_obs.R</code></a></small>
      <div class="d-none name"><code>get_minka_obs.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Primary function to retrieve observations from Minka, allows users to search
for data, or just filter results by a subset of what is offered by the API.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_minka_obs</span><span class="op">(</span></span>
<span>  query <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  taxon_name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  taxon_id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  place_id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  quality <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  geo <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  annotation <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  year <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  month <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  day <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  bounds <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  maxresults <span class="op">=</span> <span class="fl">5000</span>,</span>
<span>  meta <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-query">query<a class="anchor" aria-label="anchor" href="#arg-query"></a></dt>
<dd><p>Query string for a general search.</p></dd>


<dt id="arg-taxon-name">taxon_name<a class="anchor" aria-label="anchor" href="#arg-taxon-name"></a></dt>
<dd><p>Filter by Minka taxon name. Note that this will also select observations of
descendant taxa. Note that names are not unique, so if the name matches multiple taxa, no
observations may be returned.</p></dd>


<dt id="arg-taxon-id">taxon_id<a class="anchor" aria-label="anchor" href="#arg-taxon-id"></a></dt>
<dd><p>Filter by Minka taxon ID. Note that this will also select observations of descendant taxa.</p></dd>


<dt id="arg-place-id">place_id<a class="anchor" aria-label="anchor" href="#arg-place-id"></a></dt>
<dd><p>Filter by Minka place ID.</p></dd>


<dt id="arg-quality">quality<a class="anchor" aria-label="anchor" href="#arg-quality"></a></dt>
<dd><p>The quality grade to be used.  Must be either "casual" or "research".  If left
blank both will be returned.</p></dd>


<dt id="arg-geo">geo<a class="anchor" aria-label="anchor" href="#arg-geo"></a></dt>
<dd><p>Flag for returning only results that are georeferenced, TRUE will exclude
non-georeferenced results, but they cannot be excluded.</p></dd>


<dt id="arg-annotation">annotation<a class="anchor" aria-label="anchor" href="#arg-annotation"></a></dt>
<dd><p>Filter by annotation. Vector of length 2, the first
element being the term ID (e.g. "1" for life stage) and the second</p></dd>


<dt id="arg-year">year<a class="anchor" aria-label="anchor" href="#arg-year"></a></dt>
<dd><p>Return observations only in that year (can only be one year, not a range of years).</p></dd>


<dt id="arg-month">month<a class="anchor" aria-label="anchor" href="#arg-month"></a></dt>
<dd><p>Return observations only by month, must be numeric, 1...12</p></dd>


<dt id="arg-day">day<a class="anchor" aria-label="anchor" href="#arg-day"></a></dt>
<dd><p>Return observations only on a given day of the month,  1...31</p></dd>


<dt id="arg-bounds">bounds<a class="anchor" aria-label="anchor" href="#arg-bounds"></a></dt>
<dd><p>A bounding box of longitude (-180 to 180) and latitude (-90 to 90) to search
within.  It is a vector in the form of southern latitude, western longitude, northern latitude,
and eastern longitude. Alternatively supply an sf or sp object from which the bounding box will
be derived.</p></dd>


<dt id="arg-maxresults">maxresults<a class="anchor" aria-label="anchor" href="#arg-maxresults"></a></dt>
<dd><p>The maximum number of results to return. Should not be
a number higher than 10000.</p></dd>


<dt id="arg-meta">meta<a class="anchor" aria-label="anchor" href="#arg-meta"></a></dt>
<dd><p>(logical) If TRUE, the output of this function is a list with metadata on the output
and a data.frame of the data. If FALSE (default), just the data.frame.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A dataframe of the number of observations requested.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>Filtering doesn't always work with the query parameter for some reason (a problem on
the API end).  If you want to filter by time, it's best to use the scientific name and put it
in the 'taxa' field, and not in the query field.  Another issue is that the query parameter
will search the entire entry, so it is possible to get unintended results.  Depending on your
use case it may be advisable to use the "taxon" field instead of the query field.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span>  <span class="co">## Make a standard query</span></span></span>
<span class="r-in"><span>  <span class="fu">get_minka_obs</span><span class="op">(</span>query <span class="op">=</span> <span class="st">"Boops boops"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## Restrict to juveniles thanks to annotations</span></span></span>
<span class="r-in"><span>  <span class="fu">get_minka_obs</span><span class="op">(</span>query <span class="op">=</span> <span class="st">"possum"</span>, annotation <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">8</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## Filter by a bounding box of Barcelona Forum´s pool</span></span></span>
<span class="r-in"><span>  <span class="va">bounds_forum</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">41.407281</span>, <span class="fl">2.224977</span>, <span class="fl">41.409892</span>, <span class="fl">2.228652</span> <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu">get_minka_obs</span><span class="op">(</span>query <span class="op">=</span> <span class="st">"Salpa salpa"</span>, bounds <span class="op">=</span> <span class="va">bounds_forum</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## Filter by taxon, allows higher order filtering,</span></span></span>
<span class="r-in"><span>  <span class="co">## Here we can search for just a family(Sparidae)</span></span></span>
<span class="r-in"><span>  <span class="fu">get_minka_obs</span><span class="op">(</span>taxon_name <span class="op">=</span> <span class="st">"Sparidae"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## Get metadata (the number of results found on the server)</span></span></span>
<span class="r-in"><span>  <span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">get_minka_obs</span><span class="op">(</span>query <span class="op">=</span> <span class="st">"Boops boops"</span>, meta <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">out</span><span class="op">$</span><span class="va">meta</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ramon Servitje.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

