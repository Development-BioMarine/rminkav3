[{"path":"/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 rminkav3 authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"/articles/rminkav3.html","id":"about","dir":"Articles","previous_headings":"","what":"About","title":"rminkav3","text":"rminka wrapper Minka APIs accessing observations.","code":""},{"path":"/articles/rminkav3.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"rminkav3","text":"easiest way get rminka install github repository:","code":"devtools::install_github(\"Development-BioMarine/rminkav3\")"},{"path":[]},{"path":"/articles/rminkav3.html","id":"get-observations","dir":"Articles","previous_headings":"Quickstart guide","what":"Get observations","title":"rminkav3","text":"get_minka_obs() function retrieves observations Minka. text taxon search can refined observation date, record quality location. recommended set quality argument \"research\" order get reliable data validated several contributors.","code":""},{"path":"/articles/rminkav3.html","id":"fuzzy-search","dir":"Articles","previous_headings":"Quickstart guide > Get observations","what":"Fuzzy search","title":"rminkav3","text":"can search observations either common scientific name. search entire database, search return entries mention seabream fishes , just seabream observations. Note get_minka_obs() return 500 observations default. can controlled maxresults argument.","code":"sard <- get_minka_obs(query = \"seabream\", year = 2021)  unique(sard$scientific_name) #>  [1] \"Lithognathus mormyrus\"   \"Sparidae\"                #>  [3] \"Diplodus sargus\"         \"Diplodus annularis\"      #>  [5] \"Diplodus vulgaris\"       \"Oblada melanura\"         #>  [7] \"Diplodus puntazzo\"       \"Sparus aurata\"           #>  [9] \"Pagellus bogaraveo\"      \"Diplodus cadenati\"       #> [11] \"Pagellus acarne\"         \"Spondyliosoma cantharus\" #> [13] \"Pagrus caeruleostictus\"  \"Pagrus auriga\" sard_max_results <- get_minka_obs(query = \"seabream\", year = 2021, maxresults = 10)  sard_max_results[,1:6] #>          scientific_name                  datetime description #> 1  Lithognathus mormyrus 2021-10-03 11:55:00 +0200             #> 2               Sparidae 2021-10-03 11:55:00 +0200             #> 3        Diplodus sargus 2021-08-05 13:23:00 +0200             #> 4     Diplodus annularis 2021-08-04 11:19:00 +0200             #> 5        Diplodus sargus 2021-08-03 15:19:00 +0200             #> 6      Diplodus vulgaris 2021-08-03 15:19:00 +0200             #> 7        Oblada melanura 2021-08-03 15:13:00 +0200             #> 8      Diplodus vulgaris 2021-07-28 08:51:00 +0200             #> 9        Oblada melanura 2021-07-25 12:10:00 +0200             #> 10       Diplodus sargus 2021-07-04 09:52:00 +0200             #>          place_guess latitude longitude #> 1  Barcelona, España 41.26480  2.005203 #> 2  Barcelona, España 41.26480  2.005200 #> 3              Spain 40.05483  3.883954 #> 4              Spain 39.95923  4.265633 #> 5                    39.93600  3.937817 #> 6                    39.93600  3.937833 #> 7                    39.93646  3.938442 #> 8                    41.08978  1.228733 #> 9                    41.08981  1.228671 #> 10                   41.08979  1.228717"},{"path":"/articles/rminkav3.html","id":"taxon-search","dir":"Articles","previous_headings":"Quickstart guide > Get observations","what":"Taxon search","title":"rminkav3","text":"return records specific species taxonomic group, use taxon_name argument. example, return observations anything family Sparidae, restricting search year 2022: return seabream fish observations also mention term “banc”:","code":"sparidae <- get_minka_obs(taxon_name  = \"Sparidae\", year = 2022)  # how many unique taxa?  length(unique(sparidae$scientific_name)) #> [1] 20  #The species are:  unique(sparidae$scientific_name) #>  [1] \"Pagrus pagrus\"           \"Diplodus cervinus\"       #>  [3] \"Diplodus vulgaris\"       \"Oblada melanura\"         #>  [5] \"Diplodus puntazzo\"       \"Diplodus sargus\"         #>  [7] \"Sparus aurata\"           \"Lithognathus mormyrus\"   #>  [9] \"Sarpa salpa\"             \"Boops boops\"             #> [11] \"Dentex dentex\"           \"Pagellus acarne\"         #> [13] \"Pagellus erythrinus\"     \"Dentex gibbosus\"         #> [15] \"Spondyliosoma cantharus\" \"Sparidae\"                #> [17] \"Pagrus auriga\"           \"Diplodus annularis\"      #> [19] \"Diplodus\"                \"Diplodus cadenati\" sard_banc <- get_minka_obs(taxon_name = \"Diplodus\", query = \"banc\")  count_sard <- nrow(sard_banc)  count_sard #> [1] 4  #the observarions are  sard_banc[1:count_sard,1:2] #>     scientific_name                  datetime #> 1 Diplodus vulgaris 2018-07-26 00:00:00 +0100 #> 2 Diplodus vulgaris 2018-07-26 00:00:00 +0100 #> 3 Diplodus vulgaris 2018-07-04 00:00:00 +0100 #> 4 Diplodus vulgaris 2019-07-21 00:00:00 +0100"},{"path":"/articles/rminkav3.html","id":"bounding-box-search","dir":"Articles","previous_headings":"Quickstart guide > Get observations","what":"Bounding box search","title":"rminkav3","text":"can also search within bounding box giving simple set coordinates. set coordinates defined c( min Long, min Lat, max Long, max Lat) representation using leaflet : Leaflet map observations","code":"bounds_forum <- c(41.407281, 2.224977, 41.409892, 2.228652 )  diplodus_forum <- get_minka_obs(query = \"Diplodus sargus\", bounds = bounds_forum, year = 2024, month = 5, maxresults = 7)  diplodus_forum[1,1:6] #>   scientific_name                  datetime description place_guess latitude #> 1 Diplodus sargus 2024-05-18 11:40:00 +0200          NA       Forum 41.40921 #>   longitude #> 1  2.227122 leaflet() %>%          addTiles() %>%          setView(lng = 2.226725, lat = 41.408492, zoom = 16.35) %>%           addRectangles(lng1 = 2.224977, lat1 =  41.407281,           lng2 = 2.228652, lat2 = 41.409892) %>%           addMarkers (             lng = diplodus_forum$longitude,              lat = diplodus_forum$latitude,             label = paste('Id =', as.character(diplodus_forum$id))              )"},{"path":[]},{"path":"/articles/rminkav3.html","id":"get-information-and-observations-by-project","dir":"Articles","previous_headings":"Quickstart guide > Other functions","what":"Get information and observations by project","title":"rminkav3","text":"can get observations project know ID name Minka slug.","code":"## Just get info about a project urbamar <- get_minka_obs_project(\"urbamarbio\", type = \"info\", raw = FALSE) urbamar$project_observations_count #> [1] 55948 ## Now get all the observations for that project urbamar_obs <- get_minka_obs_project(\"biodiversitat-marina-de-les-platges-de-sant-adria-del-besos\", type = \"observations\") #> Getting records 0-200 #> Getting records up to 400 #> Getting records up to 600 #> Getting records up to 800 #> Getting records up to 1000 #> Getting records up to 1200 #> Done.  #Geting the first 5 observations  urbamar_obs[1:5,8:1] #>         species_guess timeframe map_scale    longitude      latitude #> 1        Rabosa groga        NA        NA 2.2384089231 41.4250151953 #> 2   Bavosa de plomall        NA        NA 2.2384089231 41.4250151953 #> 3             Morruda        NA        NA 2.2384089231 41.4250151953 #> 4 Limaria tuberculata        NA        NA 2.2384089231 41.4250151953 #> 5             Variada        NA        NA 2.2384089231 41.4250151953 #>   description observed_on     id #> 1        <NA>  2024-09-10 354734 #> 2        <NA>  2024-09-10 354735 #> 3        <NA>  2024-09-10 354736 #> 4        <NA>  2024-09-10 354737 #> 5        <NA>  2024-09-10 354738"},{"path":"/articles/rminkav3.html","id":"get-observation-details","dir":"Articles","previous_headings":"Quickstart guide > Other functions","what":"Get observation details","title":"rminkav3","text":"Detailed information specific observation can retrieved observation ID. easiest way get ID previous search taxon.","code":"ident <- sard_banc$id[1]  ident #> [1] 80229  get_minka_obs_id(ident)[1:5] #> $id #> [1] 80229 #>  #> $observed_on #> [1] \"2018-07-26\" #>  #> $description #> [1] \"El seu cos és alt,ovalat i comprimit lateralment. Pot asolir fins a 45 cm de llargaria i pesar 1300 g.\\r\\nS'alimenta de crustacis, cucs, mol·luscs i algues.\\r\\nViu solitari o en grans bancs.\\r\\nViu al fons rocós d'una certa fondària.\" #>  #> $latitude #> [1] \"41.60214\" #>  #> $longitude #> [1] \"2.638277\""},{"path":"/articles/rminkav3.html","id":"get-all-observations-by-user","dir":"Articles","previous_headings":"Quickstart guide > Other functions","what":"Get all observations by user","title":"rminkav3","text":"just want observations user can download observations user ID. word warning though, can quite large (easily 1000’s). Picture user observation","code":"user_obs <- get_minka_obs_user('ramonservitje')  (user_obs)[1:5,1:3] #>        scientific_name                  datetime description #> 1  Porphyrio porphyrio 2024-11-10 12:03:00 +0100             #> 2   Podiceps cristatus 2024-11-10 13:21:00 +0100             #> 3   Circus aeruginosus 2024-11-10 13:32:00 +0100             #> 4 Podiceps nigricollis 2024-11-10 13:48:00 +0100             #> 5    Pelophylax perezi 2024-11-09 12:10:00 +0100  #it is possible to view the images with the links in Minka  url <- user_obs$image_url[412]  # Read the image image <- image_read(url)  # Show the image print(image) #> # A tibble: 1 × 7 #>   format width height colorspace matte filesize density #>   <chr>  <int>  <int> <chr>      <lgl>    <int> <chr>   #> 1 JPEG     500    397 sRGB       FALSE   173509 72x72"},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Ramon Servitje. Maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Servitje R (2024). rminkav3: Obtaining Information Minka API. R package version 0.1.0, https://development-biomarine.github.io/rminkav3/, https://github.com/Development-BioMarine/rminkav3.","code":"@Manual{,   title = {rminkav3: Obtaining Information From Minka Through The API},   author = {Ramon Servitje},   year = {2024},   note = {R package version 0.1.0, https://development-biomarine.github.io/rminkav3/},   url = {https://github.com/Development-BioMarine/rminkav3}, }"},{"path":"/index.html","id":"rminkav3","dir":"","previous_headings":"","what":"Obtaining Information From Minka Through The API","title":"Obtaining Information From Minka Through The API","text":"goal rminkav3 access Minka observations API.","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Obtaining Information From Minka Through The API","text":"can install development version rminkav3 GitHub :","code":"# install.packages(\"pak\") pak::pak(\"Development-BioMarine/rminkav3\")"},{"path":"/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"Obtaining Information From Minka Through The API","text":"’s hard succinctly describe ggplot2 works embodies deep philosophy visualisation. However, cases start ggplot(), supply dataset aesthetic mapping (aes()). add layers (like geom_point() geom_histogram()), scales (like scale_colour_brewer()), faceting specifications (like facet_wrap()) coordinate systems (like coord_flip()). ## Using rminka new ggplot2 better starting systematic introduction, rather trying learn reading individual documentation pages. Currently, three good places start: [Data Visualization][r4ds-vis] [Communication][r4ds-comm] chapters [R Data Science][r4ds]. R Data Science designed give comprehensive introduction tidyverse, two chapters get speed essentials ggplot2 quickly possible. ’d like take online course, try Data Visualization R ggplot2 Kara Woo. ’d like follow webinar, try Plotting Anything ggplot2 Thomas Lin Pedersen. want dive making common graphics quickly possible, recommend [R Graphics Cookbook][cookbook] Winston Chang. provides set recipes solve common graphics problems. ’ve mastered basics want learn , read ggplot2: Elegant Graphics Data Analysis. describes theoretical underpinnings ggplot2 shows pieces fit together. book helps understand theory underpins ggplot2, help create new types graphics specifically tailored needs.","code":"library(ggplot2)  ggplot(mpg, aes(displ, hwy, colour = class)) +    geom_point()"},{"path":"/index.html","id":"getting-help","dir":"","previous_headings":"","what":"Getting help","title":"Obtaining Information From Minka Through The API","text":"two main places get help ggplot2: RStudio community friendly place ask questions ggplot2. [Stack Overflow][] great source answers common ggplot2 questions. also great place get help, created reproducible example illustrates problem. information go Minkar website","code":""},{"path":"/reference/get_minka_obs.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Minka data — get_minka_obs","title":"Download Minka data — get_minka_obs","text":"Primary function retrieve observations Minka, allows users search data, just filter results subset offered API.","code":""},{"path":"/reference/get_minka_obs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Minka data — get_minka_obs","text":"","code":"get_minka_obs(   query = NULL,   taxon_name = NULL,   taxon_id = NULL,   place_id = NULL,   quality = NULL,   geo = NULL,   annotation = NULL,   year = NULL,   month = NULL,   day = NULL,   bounds = NULL,   maxresults = 5000,   meta = FALSE )"},{"path":"/reference/get_minka_obs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Minka data — get_minka_obs","text":"query Query string general search. taxon_name Filter Minka taxon name. Note also select observations descendant taxa. Note names unique, name matches multiple taxa, observations may returned. taxon_id Filter Minka taxon ID. Note also select observations descendant taxa. place_id Filter Minka place ID. quality quality grade used.  Must either \"casual\" \"research\".  left blank returned. geo Flag returning results georeferenced, TRUE exclude non-georeferenced results, excluded. annotation Filter annotation. Vector length 2, first element term ID (e.g. \"1\" life stage) second year Return observations year (can one year, range years). month Return observations month, must numeric, 1...12 day Return observations given day month,  1...31 bounds bounding box longitude (-180 180) latitude (-90 90) search within.  vector form southern latitude, western longitude, northern latitude, eastern longitude. Alternatively supply sf sp object bounding box derived. maxresults maximum number results return. number higher 10000. meta (logical) TRUE, output function list metadata output data.frame data. FALSE (default), just data.frame.","code":""},{"path":"/reference/get_minka_obs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download Minka data — get_minka_obs","text":"dataframe number observations requested.","code":""},{"path":"/reference/get_minka_obs.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Download Minka data — get_minka_obs","text":"Filtering always work query parameter reason (problem API end).  want filter time, best use scientific name put 'taxa' field, query field.  Another issue query parameter search entire entry, possible get unintended results.  Depending use case may advisable use \"taxon\" field instead query field.","code":""},{"path":"/reference/get_minka_obs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download Minka data — get_minka_obs","text":"","code":"if (FALSE) { # \\dontrun{   ## Make a standard query   get_minka_obs(query = \"Boops boops\")    ## Restrict to juveniles thanks to annotations   get_minka_obs(query = \"possum\", annotation = c(1, 8))    ## Filter by a bounding box of Barcelona Forum´s pool   bounds_forum <- c(41.407281, 2.224977, 41.409892, 2.228652 )   get_minka_obs(query = \"Salpa salpa\", bounds = bounds_forum)    ## Filter by taxon, allows higher order filtering,   ## Here we can search for just a family(Sparidae)   get_minka_obs(taxon_name = \"Sparidae\")    ## Get metadata (the number of results found on the server)   out <- get_minka_obs(query = \"Boops boops\", meta = TRUE)   out$meta } # }"},{"path":"/reference/get_minka_obs_id.html","id":null,"dir":"Reference","previous_headings":"","what":"Get information on a specific observation — get_minka_obs_id","title":"Get information on a specific observation — get_minka_obs_id","text":"Get information specific observation","code":""},{"path":"/reference/get_minka_obs_id.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get information on a specific observation — get_minka_obs_id","text":"","code":"get_minka_obs_id(id)"},{"path":"/reference/get_minka_obs_id.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get information on a specific observation — get_minka_obs_id","text":"id single id Minka observation record","code":""},{"path":"/reference/get_minka_obs_id.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get information on a specific observation — get_minka_obs_id","text":"list full details given record","code":""},{"path":"/reference/get_minka_obs_id.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get information on a specific observation — get_minka_obs_id","text":"","code":"if (FALSE) { # \\dontrun{ m_obs <- get_minka_obs(query=\"Boops boops\") get_minka_obs_id(m_obs$id[1]) } # }"},{"path":"/reference/get_minka_obs_project.html","id":null,"dir":"Reference","previous_headings":"","what":"Download observations or info from a project — get_minka_obs_project","title":"Download observations or info from a project — get_minka_obs_project","text":"Retrieve observations particular Minka project. function can used get either observations information project project name ID.","code":""},{"path":"/reference/get_minka_obs_project.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download observations or info from a project — get_minka_obs_project","text":"","code":"get_minka_obs_project(   grpid = NULL,   type = c(\"info\", \"observations\"),   raw = FALSE )"},{"path":"/reference/get_minka_obs_project.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download observations or info from a project — get_minka_obs_project","text":"grpid Name group Minka slug group ID. type Character, either \"observations\" \"info\". \"observations\" returns observations, \"info\" returns project details similar can find project's page. raw Logical. TRUE searching project info, returns raw output parsed JSON project. Otherwise just basic information returned list.","code":""},{"path":"/reference/get_minka_obs_project.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download observations or info from a project — get_minka_obs_project","text":"Minka slug usually project name single string words separated hyphens. instance, project \"biomarato-2022-girona\" slug \"world-oceans-week-2022\", can find searching projects Minka looking project's page's URL.","code":""},{"path":"/reference/get_minka_obs_project.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download observations or info from a project — get_minka_obs_project","text":"","code":"if (FALSE) { # \\dontrun{  get_minka_obs_project(8, type = \"observations\")  get_minka_obs_project(\"urbamarbio\", type=\"info\",raw=FALSE) } # }"},{"path":"/reference/get_minka_obs_user.html","id":null,"dir":"Reference","previous_headings":"","what":"Download observations for a user — get_minka_obs_user","title":"Download observations for a user — get_minka_obs_user","text":"Get observations specific Minka user.","code":""},{"path":"/reference/get_minka_obs_user.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download observations for a user — get_minka_obs_user","text":"","code":"get_minka_obs_user(username, maxresults = 1000)"},{"path":"/reference/get_minka_obs_user.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download observations for a user — get_minka_obs_user","text":"username username Minka user fetch records maxresults maximum number results return","code":""},{"path":"/reference/get_minka_obs_user.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download observations for a user — get_minka_obs_user","text":"list full details given record","code":""},{"path":"/reference/get_minka_obs_user.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download observations for a user — get_minka_obs_user","text":"","code":"if (FALSE) { # \\dontrun{   m_obs <- get_minka_obs(query=\"Seabream\")   username<- m_obs$user_login[1]   get_minka_obs_user(as.character(username)) } # }"}]
