<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Download Minka data — get_minka_obs • rminkav3</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Download Minka data — get_minka_obs"><meta property="og:description" content="Primary function to retrieve observations from Minka, allows users to search
for data, or just filter results by a subset of what is offered by the API."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rminkav3</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/rminkav3.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/Development-BioMarine/rminkav3/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Download Minka data</h1>
    <small class="dont-index">Source: <a href="https://github.com/Development-BioMarine/rminkav3/blob/HEAD/R/get_minka_obs.R" class="external-link"><code>R/get_minka_obs.R</code></a></small>
    <div class="hidden name"><code>get_minka_obs.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Primary function to retrieve observations from Minka, allows users to search
for data, or just filter results by a subset of what is offered by the API.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_minka_obs</span><span class="op">(</span></span>
<span>  query <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  taxon_name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  taxon_id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  place_id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  quality <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  geo <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  annotation <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  year <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  month <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  day <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  bounds <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  maxresults <span class="op">=</span> <span class="fl">5000</span>,</span>
<span>  meta <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-query">query<a class="anchor" aria-label="anchor" href="#arg-query"></a></dt>
<dd><p>Query string for a general search.</p></dd>


<dt id="arg-taxon-name">taxon_name<a class="anchor" aria-label="anchor" href="#arg-taxon-name"></a></dt>
<dd><p>Filter by Minka taxon name. Note that this will also select observations of
descendant taxa. Note that names are not unique, so if the name matches multiple taxa, no
observations may be returned.</p></dd>


<dt id="arg-taxon-id">taxon_id<a class="anchor" aria-label="anchor" href="#arg-taxon-id"></a></dt>
<dd><p>Filter by Minka taxon ID. Note that this will also select observations of descendant taxa.</p></dd>


<dt id="arg-place-id">place_id<a class="anchor" aria-label="anchor" href="#arg-place-id"></a></dt>
<dd><p>Filter by Minka place ID.</p></dd>


<dt id="arg-quality">quality<a class="anchor" aria-label="anchor" href="#arg-quality"></a></dt>
<dd><p>The quality grade to be used.  Must be either "casual" or "research".  If left
blank both will be returned.</p></dd>


<dt id="arg-geo">geo<a class="anchor" aria-label="anchor" href="#arg-geo"></a></dt>
<dd><p>Flag for returning only results that are georeferenced, TRUE will exclude
non-georeferenced results, but they cannot be excluded.</p></dd>


<dt id="arg-annotation">annotation<a class="anchor" aria-label="anchor" href="#arg-annotation"></a></dt>
<dd><p>Filter by annotation. Vector of length 2, the first
element being the term ID (e.g. "1" for life stage) and the second</p></dd>


<dt id="arg-year">year<a class="anchor" aria-label="anchor" href="#arg-year"></a></dt>
<dd><p>Return observations only in that year (can only be one year, not a range of years).</p></dd>


<dt id="arg-month">month<a class="anchor" aria-label="anchor" href="#arg-month"></a></dt>
<dd><p>Return observations only by month, must be numeric, 1...12</p></dd>


<dt id="arg-day">day<a class="anchor" aria-label="anchor" href="#arg-day"></a></dt>
<dd><p>Return observations only on a given day of the month,  1...31</p></dd>


<dt id="arg-bounds">bounds<a class="anchor" aria-label="anchor" href="#arg-bounds"></a></dt>
<dd><p>A bounding box of longitude (-180 to 180) and latitude (-90 to 90) to search
within.  It is a vector in the form of southern latitude, western longitude, northern latitude,
and eastern longitude. Alternatively supply an sf or sp object from which the bounding box will
be derived.</p></dd>


<dt id="arg-maxresults">maxresults<a class="anchor" aria-label="anchor" href="#arg-maxresults"></a></dt>
<dd><p>The maximum number of results to return. Should not be
a number higher than 10000.</p></dd>


<dt id="arg-meta">meta<a class="anchor" aria-label="anchor" href="#arg-meta"></a></dt>
<dd><p>(logical) If TRUE, the output of this function is a list with metadata on the output
and a data.frame of the data. If FALSE (default), just the data.frame.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A dataframe of the number of observations requested.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>Filtering doesn't always work with the query parameter for some reason (a problem on
the API end).  If you want to filter by time, it's best to use the scientific name and put it
in the 'taxa' field, and not in the query field.  Another issue is that the query parameter
will search the entire entry, so it is possible to get unintended results.  Depending on your
use case it may be advisable to use the "taxon" field instead of the query field.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span>  <span class="co">## Make a standard query</span></span></span>
<span class="r-in"><span>  <span class="fu">get_minka_obs</span><span class="op">(</span>query <span class="op">=</span> <span class="st">"Boops boops"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## Restrict to juveniles thanks to annotations</span></span></span>
<span class="r-in"><span>  <span class="fu">get_minka_obs</span><span class="op">(</span>query <span class="op">=</span> <span class="st">"possum"</span>, annotation <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">8</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## Filter by a bounding box of Barcelona Forum´s pool</span></span></span>
<span class="r-in"><span>  <span class="va">bounds_forum</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">41.407281</span>, <span class="fl">2.224977</span>, <span class="fl">41.409892</span>, <span class="fl">2.228652</span> <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu">get_minka_obs</span><span class="op">(</span>query <span class="op">=</span> <span class="st">"Salpa salpa"</span>, bounds <span class="op">=</span> <span class="va">bounds_forum</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## Filter by taxon, allows higher order filtering,</span></span></span>
<span class="r-in"><span>  <span class="co">## Here we can search for just a family(Sparidae)</span></span></span>
<span class="r-in"><span>  <span class="fu">get_minka_obs</span><span class="op">(</span>taxon_name <span class="op">=</span> <span class="st">"Sparidae"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## Get metadata (the number of results found on the server)</span></span></span>
<span class="r-in"><span>  <span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">get_minka_obs</span><span class="op">(</span>query <span class="op">=</span> <span class="st">"Boops boops"</span>, meta <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">out</span><span class="op">$</span><span class="va">meta</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Ramon Servitje.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

